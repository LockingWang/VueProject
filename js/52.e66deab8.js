"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[52],{5239:function(t,e,i){i.d(e,{Z:function(){return m}});var a=i(3396),s=i(7139),n=i(9242);const r={"aria-label":"Page navigation example"},o={class:"pagination justify-content-center"},l=(0,a._)("span",{"aria-hidden":"true"},"«",-1),c=[l],g=["onClick"],d=(0,a._)("span",{"aria-hidden":"true"},"»",-1),p=[d];function u(t,e,i,l,d,u){return(0,a.wg)(),(0,a.iD)("nav",r,[(0,a._)("ul",o,[(0,a._)("li",{class:(0,s.C_)(["page-item",{"page-link-disabled":!i.pages.has_pre}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((t=>u.updatePage("previous")),["prevent"]))},c)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.pages.total_pages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["page-item",{active:t===i.pages.current_page}]),key:t},[(0,a._)("a",{class:"page-link",href:"#",onClick:(0,n.iM)((e=>u.updatePage(t)),["prevent"])},(0,s.zw)(t),9,g)],2)))),128)),(0,a._)("li",{class:(0,s.C_)(["page-item",{"page-link-disabled":!i.pages.has_next}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((t=>u.updatePage("next")),["prevent"]))},p)],2)])])}var h={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},_=i(89);const v=(0,_.Z)(h,[["render",u]]);var m=v},4052:function(t,e,i){i.r(e),i.d(e,{default:function(){return Z}});var a=i(3396),s=i(7139);const n=(0,a._)("div",{class:"favorite-banner mb-3"},[(0,a._)("div",{class:"banner-text d-flex align-items-center justify-content-center"},[(0,a._)("h1",{class:"text-white"},"喜歡的商品")])],-1),r={class:"text-center"},o={class:"container mb-3"},l={class:"row g-3"},c={class:"card h-100 favor-card"},g={class:"row g-0"},d={class:"col-md-4"},p={class:"img-box rounded-start"},u={class:"col-md-8 border-start"},h={class:"card-body"},_={class:"card-title mt-0 mt-md-3 text-ellipsis-multi"},v={class:"d-flex align-items-end"},m={key:0,class:"h5"},b={key:1,class:"h6 d-none d-md-block"},k={key:2,class:"h5 ms-3 text-danger"},f={class:"btn-group"},C=["onClick"],L=["onClick"],P={class:"position-absolute top-0 end-0"},w=["onClick"],x=(0,a._)("i",{class:"bi bi-heartbreak"},null,-1),I=[x];function y(t,e,i,x,y,D){const S=(0,a.up)("LoadingOverlay"),j=(0,a.up)("PaginationModel"),M=(0,a.up)("UserCart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(S,{active:y.isLoading},null,8,["active"]),n,(0,a._)("h5",r,"一共收藏了 "+(0,s.zw)(y.loveItemList.length)+" 項商品",1),(0,a._)("div",o,[(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.filtedProducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-6",key:e.id},[(0,a._)("div",c,[(0,a._)("div",g,[(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("div",{class:"bg-img rounded-start",style:(0,s.j5)({"background-image":"url("+e.imageUrl+")"})},null,4)])]),(0,a._)("div",u,[(0,a._)("div",h,[(0,a._)("h5",_,(0,s.zw)(e.title),1),(0,a._)("div",v,[e.price?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",m,(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)),e.price?((0,a.wg)(),(0,a.iD)("del",b," 原價 "+(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price?((0,a.wg)(),(0,a.iD)("div",k," 售價 "+(0,s.zw)(t.$filters.currency(e.price))+" 元 ",1)):(0,a.kq)("",!0)]),(0,a._)("div",f,[(0,a._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>D.getProduct(e.id)},"查看更多",8,C),(0,a._)("button",{class:"btn btn-outline-danger btn-sm",onClick:i=>t.addToCart(e.id)},"加到購物車",8,L)]),(0,a._)("div",P,[(0,a._)("button",{class:"btn btn-sm btn-danger",type:"button",onClick:t=>D.delLoveProduct(e)},I,8,w)])])])])])])))),128)),(0,a.Wm)(j,{pages:y.pagination,onEmitPages:D.filtProducts},null,8,["pages","onEmitPages"])])]),(0,a.Wm)(M,{cart:t.cart,onChangeCart:t.getCart},null,8,["cart","onChangeCart"])],64)}i(7658);var D=i(5239),S=i(7221),j=i(943),M={components:{PaginationModel:D.Z,UserCart:S.Z},data(){return{loveItemList:[],filtedProducts:[],isLoading:!1,status:{loadingItem:""},pagination:{total_pages:"",current_page:1,has_pre:!1,has_next:!1}}},inject:["$httpMessageState"],methods:{getLovedProducts(){if(localStorage.getItem("loveItemList")){const t=JSON.parse(localStorage.getItem("loveItemList"));this.loveItemList=Object.values(t)}this.filtProducts()},filtProducts(t=this.pagination.current_page){"previous"===t?this.pagination.current_page-=1:"next"===t?this.pagination.current_page+=1:this.pagination.current_page=1===t?1:t;const e=8;this.pagination.total_pages=Math.ceil(this.loveItemList.length/e),1===this.pagination.current_page?(this.pagination.has_pre=!1,this.pagination.has_next=!0,1===this.pagination.total_pages&&(this.pagination.has_next=!1)):this.pagination.current_page===this.pagination.total_pages?(this.pagination.has_next=!1,this.pagination.has_pre=!0):(this.pagination.has_next=!0,this.pagination.has_pre=!0);const i=[],a=this.pagination.current_page;this.loveItemList.forEach(((t,e)=>{e<=8*a-1&&e>=8*a-8&&i.push(t)})),this.filtedProducts=i},getProduct(t){this.$router.push(`/product/${t}`)},delLoveProduct(t){this.loveItemList=JSON.parse(localStorage.getItem("loveItemList")),delete this.loveItemList[t.id],localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList)),this.getLovedProducts()},checkLoveList(t){return void 0===this.loveItemList[t.id]}},created(){this.getLovedProducts()},mixins:[j.Z]},$=i(89);const z=(0,$.Z)(M,[["render",y]]);var Z=z}}]);
//# sourceMappingURL=52.e66deab8.js.map