"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[193],{5239:function(t,e,i){i.d(e,{Z:function(){return m}});var a=i(3396),s=i(7139),n=i(9242);const r={"aria-label":"Page navigation example"},l={class:"pagination justify-content-center"},o=(0,a._)("span",{"aria-hidden":"true"},"«",-1),c=[o],g=["onClick"],d=(0,a._)("span",{"aria-hidden":"true"},"»",-1),p=[d];function u(t,e,i,o,d,u){return(0,a.wg)(),(0,a.iD)("nav",r,[(0,a._)("ul",l,[(0,a._)("li",{class:(0,s.C_)(["page-item",{"page-link-disabled":!i.pages.has_pre}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((t=>u.updatePage("previous")),["prevent"]))},c)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.pages.total_pages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["page-item",{active:t===i.pages.current_page}]),key:t},[(0,a._)("a",{class:"page-link",href:"#",onClick:(0,n.iM)((e=>u.updatePage(t)),["prevent"])},(0,s.zw)(t),9,g)],2)))),128)),(0,a._)("li",{class:(0,s.C_)(["page-item",{"page-link-disabled":!i.pages.has_next}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((t=>u.updatePage("next")),["prevent"]))},p)],2)])])}var h={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},v=i(89);const _=(0,v.Z)(h,[["render",u]]);var m=_},5398:function(t,e,i){i.r(e),i.d(e,{default:function(){return U}});var a=i(3396),s=i(7139),n=i.p+"img/favorite-banner.04825fcf.svg";const r=(0,a._)("div",null,[(0,a._)("img",{src:n,alt:"Japan Style Room",class:"img-fluid"})],-1),l={key:0,class:"text-center py-3"},o={class:"container mb-3"},c={key:0,class:"row g-3"},g={class:"card h-100 favor-card"},d={class:"row g-0"},p={class:"col-md-4"},u={class:"img-box rounded-start"},h={class:"col-md-8 border-start"},v={class:"card-body"},_={class:"card-title mt-0 mt-md-3 text-ellipsis-multi"},m={class:"d-flex align-items-end"},k={key:0,class:"h5"},b={key:1,class:"h6 d-none d-md-block"},f={key:2,class:"h5 ms-3 text-danger"},w={class:"btn-group"},P=["onClick"],C=["onClick"],L={class:"position-absolute top-0 end-0"},y=["onClick"],x=(0,a._)("i",{class:"bi bi-heartbreak"},null,-1),I=[x],D={key:1,class:"row justify-content-center"},S={class:"col-md-6 text-center"},j=(0,a._)("h5",null,"歐歐~ 似乎還沒有喜歡的商品呢 !",-1),M=(0,a._)("div",{class:"mx-auto",style:{width:"200px"}},[(0,a._)("img",{class:"img-fluid rounded",src:"https://stickershop.line-scdn.net/stickershop/v1/sticker/239057858/IOS/sticker.png",alt:"Question Cat"})],-1);function $(t,e,i,n,x,$){const z=(0,a.up)("LoadingOverlay"),O=(0,a.up)("PaginationModel"),Z=(0,a.up)("router-link"),q=(0,a.up)("UserCart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(z,{active:x.isLoading},null,8,["active"]),r,0!==x.filtedProducts.length?((0,a.wg)(),(0,a.iD)("h5",l," 一共收藏了 "+(0,s.zw)(x.loveItemList.length)+" 項商品",1)):(0,a.kq)("",!0),(0,a._)("div",o,[0!==x.filtedProducts.length?((0,a.wg)(),(0,a.iD)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.filtedProducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-6",key:e.id},[(0,a._)("div",g,[(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("div",u,[(0,a._)("div",{class:"bg-img rounded-start",style:(0,s.j5)({"background-image":"url("+e.imageUrl+")"})},null,4)])]),(0,a._)("div",h,[(0,a._)("div",v,[(0,a._)("h5",_,(0,s.zw)(e.title),1),(0,a._)("div",m,[e.price?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",k,(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)),e.price?((0,a.wg)(),(0,a.iD)("del",b," 原價 "+(0,s.zw)(t.$filters.currency(e.origin_price))+" 元 ",1)):(0,a.kq)("",!0),e.price?((0,a.wg)(),(0,a.iD)("div",f," 售價 "+(0,s.zw)(t.$filters.currency(e.price))+" 元 ",1)):(0,a.kq)("",!0)]),(0,a._)("div",w,[(0,a._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>$.getProduct(e.id)},"查看更多",8,P),(0,a._)("button",{class:"btn btn-outline-danger btn-sm",onClick:i=>t.addToCart(e.id)},"加到購物車",8,C)]),(0,a._)("div",L,[(0,a._)("button",{class:"btn btn-sm btn-danger",type:"button",onClick:t=>$.delLoveProduct(e)},I,8,y)])])])])])])))),128)),(0,a.Wm)(O,{pages:x.pagination,onEmitPages:$.filtProducts},null,8,["pages","onEmitPages"])])):((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",S,[j,M,(0,a.Wm)(Z,{to:"/products",class:"btn btn-outline-warning"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 趕快去看看 ")])),_:1})])]))]),(0,a.Wm)(q,{cart:t.cart,onChangeCart:t.getCart},null,8,["cart","onChangeCart"])],64)}i(7658);var z=i(5239),O=i(4748),Z=i(943),q={components:{PaginationModel:z.Z,UserCart:O.Z},data(){return{loveItemList:[],filtedProducts:[],isLoading:!1,status:{loadingItem:""},pagination:{total_pages:"",current_page:1,has_pre:!1,has_next:!1}}},inject:["$httpMessageState"],methods:{getLovedProducts(){if(localStorage.getItem("loveItemList")){const t=JSON.parse(localStorage.getItem("loveItemList"));this.loveItemList=Object.values(t)}this.filtProducts()},filtProducts(t=this.pagination.current_page){"previous"===t?this.pagination.current_page-=1:"next"===t?this.pagination.current_page+=1:this.pagination.current_page=1===t?1:t;const e=8;this.pagination.total_pages=Math.ceil(this.loveItemList.length/e),1===this.pagination.current_page?(this.pagination.has_pre=!1,this.pagination.has_next=!0,1===this.pagination.total_pages&&(this.pagination.has_next=!1)):this.pagination.current_page===this.pagination.total_pages?(this.pagination.has_next=!1,this.pagination.has_pre=!0):(this.pagination.has_next=!0,this.pagination.has_pre=!0);const i=[],a=this.pagination.current_page;this.loveItemList.forEach(((t,e)=>{e<=8*a-1&&e>=8*a-8&&i.push(t)})),this.filtedProducts=i},getProduct(t){this.$router.push(`/product/${t}`)},delLoveProduct(t){this.loveItemList=JSON.parse(localStorage.getItem("loveItemList")),delete this.loveItemList[t.id],localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList)),this.getLovedProducts()},checkLoveList(t){return void 0===this.loveItemList[t.id]}},created(){this.getLovedProducts()},mixins:[Z.Z]},J=i(89);const N=(0,J.Z)(q,[["render",$]]);var U=N}}]);
//# sourceMappingURL=193.8f27aea0.js.map