{"version":3,"file":"js/581.6049da17.js","mappings":"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","sources":["webpack://vue-project/./src/components/PaginationModel.vue","webpack://vue-project/./src/components/PaginationModel.vue?2cb5","webpack://vue-project/./src/components/UserFavorite.vue","webpack://vue-project/./src/components/UserFavorite.vue?37a1"],"sourcesContent":["<template>\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination justify-content-center\">\n        <li class=\"page-item\" :class=\"{'page-link-disabled': !pages.has_pre}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n          @click.prevent=\"updatePage('previous')\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\n        :class=\"{'active': page === pages.current_page}\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\n            {{ page }}\n          </a>\n        </li>\n        <li class=\"page-item\" :class=\"{'page-link-disabled': !pages.has_next}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePage('next')\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationModel.vue?vue&type=template&id=c04459e4\"\nimport script from \"./PaginationModel.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationModel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\VueProject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n    <div class=\"favorite-banner mb-3\">\n      <div class=\"banner-text d-flex align-items-center justify-content-center\">\n        <h1 class=\"text-white\">喜歡的商品</h1>\n      </div>\n    </div>\n    <h5 class=\"text-center\">一共收藏了 {{ loveItemList.length }} 項商品</h5>\n    <div class=\"container mb-3\">\n      <div class=\"row g-3\">\n        <div class=\"col-6\" v-for=\"item in filtedProducts\" :key=\"item.id\">\n          <div class=\"card h-100 favor-card\">\n            <div class=\"row g-0\">\n              <div class=\"col-md-4\">\n                <div class=\"img-box rounded-start\">\n                  <div class=\"bg-img rounded-start\"\n                  :style=\"{ 'background-image': 'url(' + item.imageUrl + ')' }\"></div>\n                </div>\n                <!-- <img :src=\"item.imageUrl\" :alt=\"item.title\"\n                class=\"rounded-start w-100 h-100 object-fit-cover\"> -->\n              </div>\n              <div class=\"col-md-8 border-start\">\n                <div class=\"card-body\">\n                  <h5 class=\"card-title mt-0 mt-md-3 text-ellipsis-multi\">{{ item.title }}</h5>\n                  <div class=\"d-flex align-items-end\">\n                    <div class=\"h5\" v-if=\"!item.price\">\n                      {{ $filters.currency(item.origin_price) }} 元\n                    </div>\n                    <del class=\"h6 d-none d-md-block\" v-if=\"item.price\">\n                      原價 {{ $filters.currency(item.origin_price) }} 元\n                    </del>\n                    <div class=\"h5 ms-3 text-danger\" v-if=\"item.price\">\n                      售價 {{ $filters.currency(item.price) }} 元\n                    </div>\n                  </div>\n                  <div class=\"btn-group\">\n                    <button class=\"btn btn-outline-primary btn-sm\"\n                    @click=\"getProduct(item.id)\">查看更多</button>\n                    <button class=\"btn btn-outline-danger btn-sm\"\n                    @click=\"addToCart(item.id)\">加到購物車</button>\n                    </div>\n                    <div class=\"position-absolute top-0 end-0\">\n                      <button class=\"btn btn-sm btn-danger\" type=\"button\"\n                      @click=\"delLoveProduct(item)\"><i class=\"bi bi-heartbreak\"></i></button>\n                    </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <PaginationModel :pages=\"pagination\"\n          @emit-pages=\"filtProducts\"></PaginationModel>\n      </div>\n    </div>\n    <UserCart :cart=\"cart\" @change-cart=\"getCart\"></UserCart>\n</template>\n\n<script>\nimport PaginationModel from '@/components/PaginationModel.vue';\nimport UserCart from '@/components/UserCartOffcanvas.vue';\nimport CartMixin from '@/mixins/CartMixin';\n\nexport default {\n  components: {\n    PaginationModel,\n    UserCart,\n  },\n  data() {\n    return {\n      loveItemList: [],\n      filtedProducts: [],\n      isLoading: false,\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      pagination: {\n        total_pages: '',\n        current_page: 1,\n        has_pre: false,\n        has_next: false,\n      },\n    };\n  },\n  inject: ['$httpMessageState'],\n  methods: {\n    getLovedProducts() {\n      if (localStorage.getItem('loveItemList')) {\n        const loveItemObject = JSON.parse(localStorage.getItem('loveItemList'));\n        this.loveItemList = Object.values(loveItemObject);\n      }\n      this.filtProducts();\n    },\n    filtProducts(page = this.pagination.current_page) {\n      if (page === 'previous') {\n        this.pagination.current_page -= 1;\n      } else if (page === 'next') {\n        this.pagination.current_page += 1;\n      } else if (page === 1) {\n        this.pagination.current_page = 1;\n      } else {\n        this.pagination.current_page = page;\n      }\n\n      const pageItems = 8;\n      this.pagination.total_pages = Math.ceil(this.loveItemList.length / pageItems);\n      if (this.pagination.current_page === 1) {\n        this.pagination.has_pre = false;\n        this.pagination.has_next = true;\n        if (this.pagination.total_pages === 1) {\n          this.pagination.has_next = false;\n        }\n      } else if (this.pagination.current_page === this.pagination.total_pages) {\n        this.pagination.has_next = false;\n        this.pagination.has_pre = true;\n      } else {\n        this.pagination.has_next = true;\n        this.pagination.has_pre = true;\n      }\n      const showItems = [];\n      const CP = this.pagination.current_page;\n      this.loveItemList.forEach((item, i) => {\n        if (i <= CP * 8 - 1 && i >= CP * 8 - 8) {\n          showItems.push(item);\n        }\n      });\n\n      this.filtedProducts = showItems;\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    delLoveProduct(item) {\n      this.loveItemList = JSON.parse(localStorage.getItem('loveItemList'));\n      delete this.loveItemList[item.id];\n      localStorage.setItem('loveItemList', JSON.stringify(this.loveItemList));\n      this.getLovedProducts();\n    },\n    checkLoveList(item) {\n      if (this.loveItemList[item.id] === undefined) {\n        return true;\n      }\n      return false;\n    },\n  },\n  created() {\n    this.getLovedProducts();\n  },\n  mixins: [CartMixin],\n};\n</script>\n","import { render } from \"./UserFavorite.vue?vue&type=template&id=1bbbbf12\"\nimport script from \"./UserFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\VueProject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","_Fragment","_renderList","total_pages","page","current_page","key","_hoisted_5","has_next","props","methods","this","$emit","__exports__","render","_hoisted_21","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_toDisplayString","loveItemList","length","_hoisted_4","filtedProducts","item","id","_hoisted_7","_hoisted_8","style","_normalizeStyle","imageUrl","_hoisted_9","_hoisted_10","_hoisted_11","title","_hoisted_12","price","_hoisted_13","_ctx","$filters","currency","origin_price","_hoisted_14","_hoisted_15","_hoisted_16","getProduct","_hoisted_17","addToCart","_hoisted_18","_hoisted_19","type","delLoveProduct","_component_PaginationModel","pagination","onEmitPages","filtProducts","_component_UserCart","cart","onChangeCart","getCart","components","PaginationModel","UserCart","data","status","loadingItem","inject","getLovedProducts","localStorage","getItem","loveItemObject","JSON","parse","Object","values","pageItems","Math","ceil","showItems","CP","forEach","i","push","$router","setItem","stringify","checkLoveList","undefined","created","mixins","CartMixin"],"sourceRoot":""}