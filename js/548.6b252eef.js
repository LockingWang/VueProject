"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[548],{4612:function(t,e,i){i(7658);e["Z"]={data(){return{filtedProducts:[],pagination:{total_pages:"",current_page:1,has_pre:!1,has_next:!1},filter:"",searchText:""}},methods:{filtProducts(t=1){""===this.filter?this.filtedProducts=this.products.filter((t=>t.title.match(this.searchText))):(this.filtedProducts=this.products.filter((t=>t.category===this.filter)),this.filtedProducts=this.filtedProducts.filter((t=>t.title.match(this.searchText)))),"previous"===t?this.pagination.current_page-=1:"next"===t?this.pagination.current_page+=1:this.pagination.current_page=1===t?1:t,this.pagination.total_pages=Math.ceil(this.filtedProducts.length/this.pageItems),1===this.pagination.current_page?(this.pagination.has_pre=!1,this.pagination.has_next=!0,1===this.pagination.total_pages&&(this.pagination.has_next=!1)):this.pagination.current_page===this.pagination.total_pages?(this.pagination.has_next=!1,this.pagination.has_pre=!0):(this.pagination.has_next=!0,this.pagination.has_pre=!0);const e=[],i=this.pagination.current_page;this.filtedProducts.forEach(((t,s)=>{s<=i*this.pageItems-1&&s>=i*this.pageItems-this.pageItems&&e.push(t)})),this.filtedProducts=e}}}},5239:function(t,e,i){i.d(e,{Z:function(){return f}});var s=i(3396),a=i(7139),l=i(9242);const o={"aria-label":"Page navigation example"},n={class:"pagination justify-content-center"},r=(0,s._)("span",{"aria-hidden":"true"},"«",-1),c=[r],d=["onClick"],u=(0,s._)("span",{"aria-hidden":"true"},"»",-1),p=[u];function g(t,e,i,r,u,g){return(0,s.wg)(),(0,s.iD)("nav",o,[(0,s._)("ul",n,[(0,s._)("li",{class:(0,a.C_)(["page-item",{"page-link-disabled":!i.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,l.iM)((t=>g.updatePage("previous")),["prevent"]))},c)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pages.total_pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["page-item",{active:t===i.pages.current_page}]),key:t},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,l.iM)((e=>g.updatePage(t)),["prevent"])},(0,a.zw)(t),9,d)],2)))),128)),(0,s._)("li",{class:(0,a.C_)(["page-item",{"page-link-disabled":!i.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,l.iM)((t=>g.updatePage("next")),["prevent"]))},p)],2)])])}var h={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},m=i(89);const _=(0,m.Z)(h,[["render",g]]);var f=_},807:function(t,e,i){i.r(e),i.d(e,{default:function(){return ut}});var s=i(3396),a=i(7139),l=i(9242),o=i.p+"img/main-banner.66ad012d.svg",n=i.p+"img/tokyo-promo.1dabc84e.svg",r=i.p+"img/ninja-coupon.2feffd20.svg";const c=(0,s._)("img",{class:"img-fluid",src:o,alt:"Products Page Banner"},null,-1),d=(0,s._)("img",{class:"img-fluid",src:n,alt:"Promotion Banner"},null,-1),u=(0,s._)("img",{class:"img-fluid",src:r,alt:"Coupon Banner"},null,-1),p={class:"container-fluid bg-light pt-3"},g={class:"row justify-content-center"},h={class:"col-lg-10"},m={class:"row"},_={class:"col-md-6"},f={class:"fs-5 mb-3"},v={class:"d-flex list-unstyled"},b=(0,s._)("li",{style:{color:"#86473F"}},"首頁 / ",-1),x=(0,s._)("li",{style:{color:"#86473F"}},"商品專區 / ",-1),w={class:"link-danger ms-2"},k={class:"col-md-6"},y={class:"input-group mb-3"},C=(0,s._)("button",{class:"input-group-text border-0 bg-light"},[(0,s._)("i",{class:"bi bi-search"})],-1),P={key:0,class:"text-danger d-block text-end mb-3"},I={class:"mb-3"},L={class:"row"},S={class:"col-md-2"},D={class:"list-group text-center sticky-top rounded-0 mb-3",style:{top:"70px"}},T={class:"col-md-10"},M={key:0,class:"row row-cols-2 row-cols-sm-3 row-cols-lg-4 g-3"},W=["id"],Z={class:"position-absolute end-0",style:{"z-index":"2"}},j=["onClick"],F=(0,s._)("i",{class:"bi bi-heart text-white fs-5"},null,-1),$=(0,s._)("span",{class:"ms-1 text-white fs-5"},"收藏",-1),z=[F,$],E=["onClick"],U=(0,s._)("i",{class:"bi bi-heart-fill text-danger fs-5"},null,-1),N=(0,s._)("span",{class:"ms-1 text-danger fs-5"},"喜歡",-1),O=[U,N],B={class:"img-box"},H={class:"card-body position-relative pb-0 border-top"},J={class:"text-white bg-danger d-inline px-1 position-absolute top-0 end-0"},Y={class:"mt-2 text-ellipsis-multi"},q={class:"d-flex flex-wrap justify-content-between align-items-end"},K={class:"text-secondary fs-6 text-decoration-line-through text-nowrap"},Q={class:"text-danger fs-5 text-nowrap"},V={class:"card-footer"},A=["data-id","onClick"],G={key:1},R=(0,s._)("div",{class:"d-flex text-secondary justify-content-center align-items-center mt-3"},[(0,s._)("i",{class:"bi bi-cloud-slash fs-1 me-3"}),(0,s._)("h5",{class:"text-center"},[(0,s.Uk)("歐歐~ 好像找不到相關的商品呢 ! "),(0,s._)("br"),(0,s.Uk)("再試試看其他關鍵字吧 !")])],-1),X=[R];function tt(t,e,i,o,n,r){const F=(0,s.up)("LoadingOverlay"),$=(0,s.up)("router-link"),U=(0,s.up)("swiper-slide"),N=(0,s.up)("swiper"),R=(0,s.up)("PaginationModel"),tt=(0,s.up)("UserCart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(F,{active:n.isLoading},null,8,["active"]),(0,s._)("header",null,[(0,s.Wm)(N,{modules:o.modules,"slides-per-view":1,"space-between":50,autoplay:{delay:3e3},loop:"true",speed:"1000",effect:"fade",pagination:{clickable:!0},onSwiper:o.onSwiper,onSlideChange:o.onSlideChange},{default:(0,s.w5)((()=>[(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)($,{to:"/products"},{default:(0,s.w5)((()=>[c])),_:1})])),_:1}),(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)($,{to:"/product/-NTlt20QPr7IxM7ZdsrD"},{default:(0,s.w5)((()=>[d])),_:1})])),_:1}),(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s.Wm)($,{to:"/userCheckout/cart"},{default:(0,s.w5)((()=>[u])),_:1})])),_:1})])),_:1},8,["modules","onSwiper","onSlideChange"])]),(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("section",null,[(0,s._)("div",m,[(0,s._)("div",_,[(0,s._)("div",f,[(0,s._)("ul",v,[b,x,(0,s._)("li",w,(0,a.zw)(t.filter),1)])])]),(0,s._)("div",k,[(0,s._)("div",y,[C,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"進一步搜尋商品","aria-label":"search","onUpdate:modelValue":e[0]||(e[0]=e=>t.searchText=e),onChange:e[1]||(e[1]=t=>r.textCheck())},null,544),[[l.nr,t.searchText]])]),n.specialText?((0,s.wg)(),(0,s.iD)("span",P,"請勿輸入特殊字元")):(0,s.kq)("",!0)])])]),(0,s._)("section",I,[(0,s._)("div",L,[(0,s._)("div",S,[(0,s._)("div",D,[(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:""==t.filter}]),onClick:e[2]||(e[2]=t=>r.changeFilter(""))},"全部商品",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"化妝品"==t.filter}]),onClick:e[3]||(e[3]=t=>r.changeFilter("化妝品"))},"化妝品",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"醫藥"==t.filter}]),onClick:e[4]||(e[4]=t=>r.changeFilter("醫藥"))},"醫藥",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"零食"==t.filter}]),onClick:e[5]||(e[5]=t=>r.changeFilter("零食"))},"零食",2)])]),(0,s._)("div",T,[0!==t.filtedProducts.length?((0,s.wg)(),(0,s.iD)("div",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.filtedProducts,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:i.id},[(0,s._)("div",{class:"card h-100",id:i.id},[(0,s._)("div",Z,[r.checkLoveList(i)?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"border-0 rounded",style:{"background-color":"rgba(255, 0, 0, 0.62)"},onClick:t=>r.toggleLoveProduct(i,"add")},z,8,j)):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"border-0 rounded",style:{"background-color":"rgba(255, 255, 255, 0.596)"},onClick:t=>r.toggleLoveProduct(i,"del")},O,8,E))]),(0,s._)("div",B,[(0,s._)("div",{class:"bg-img rounded-top",style:(0,a.j5)({"background-image":"url("+i.imageUrl+")"})},null,4)]),(0,s._)("div",H,[(0,s._)("p",J,(0,a.zw)(i.category),1),(0,s._)("h5",Y,(0,a.zw)(i.title),1),(0,s._)("div",q,[(0,s._)("span",K," 原價"+(0,a.zw)(t.$filters.currency(i.origin_price))+"元",1),(0,s._)("span",Q," 售價"+(0,a.zw)(t.$filters.currency(i.price))+"元",1)])]),(0,s._)("div",V,[(0,s._)("a",{class:"btn btn-outline-danger btn stretched-link w-100","data-id":i.id,href:"#",onClick:(0,l.iM)((t=>r.getProduct(i.id)),["prevent"]),onFocus:e[6]||(e[6]=e=>t.hoverEffect("in",e)),onFocusout:e[7]||(e[7]=e=>t.hoverEffect("out",e)),onMouseenter:e[8]||(e[8]=e=>t.hoverEffect("in",e)),onMouseleave:e[9]||(e[9]=e=>t.hoverEffect("out",e))},"商品頁",40,A)])],8,W)])))),128))])):((0,s.wg)(),(0,s.iD)("div",G,X))])])]),(0,s.Wm)(R,{pages:t.pagination,onEmitPages:t.filtProducts},null,8,["pages","onEmitPages"])])])]),(0,s.Wm)(tt,{cart:t.cart,onChangeCart:t.getCart},null,8,["cart","onChangeCart"])],64)}i(7658);var et=i(5239),it=i(4748),st=i(943),at=i(8692),lt=i(4612),ot=i(9391),nt=i(8040),rt={components:{PaginationModel:et.Z,UserCart:it.Z,Swiper:nt.tq,SwiperSlide:nt.o5},data(){return{products:[],loveItemList:{},pageItems:9,isLoading:!1,specialText:!1,status:{loadingItem:""}}},inject:["emitter","$httpMessageState"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/cong-ren/products/all";this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products,this.filtProducts())})).catch((t=>{console.log(t)}))},getProduct(t){this.$router.push(`/product/${t}`)},toggleLoveProduct(t,e){"add"===e?(this.loveItemList[t.id]=t,localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList))):"del"===e&&(delete this.loveItemList[t.id],localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList)))},checkLoveList(t){return void 0===this.loveItemList[t.id]},updateLovedItem(){localStorage.getItem("loveItemList")?this.loveItemList=JSON.parse(localStorage.getItem("loveItemList")):this.loveItemList={}},changeFilter(t){this.filter=t,this.filtProducts()},textCheck(){const t=this.searchText.replace(/[`~!@#$%^&*()+=<>?:"{}|,./;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]/g,"");t!==this.searchText?this.specialText=!0:(this.specialText=!1,this.filtProducts(1))}},created(){this.getProducts(),this.updateLovedItem()},mixins:[st.Z,at.Z,lt.Z],setup(){const t=()=>{},e=()=>{};return{onSwiper:t,onSlideChange:e,modules:[ot.tl,ot.s5,ot.pt,ot.xW]}}},ct=i(89);const dt=(0,ct.Z)(rt,[["render",tt]]);var ut=dt}}]);
//# sourceMappingURL=548.6b252eef.js.map