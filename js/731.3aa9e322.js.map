{"version":3,"file":"js/731.3aa9e322.js","mappings":"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","sources":["webpack://vue-project/./src/views/OrdersView.vue","webpack://vue-project/./src/components/OrderModal.vue","webpack://vue-project/./src/components/OrderModal.vue?b91a","webpack://vue-project/./src/views/OrdersView.vue?e537"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n  <div class=\"container-fluid\">\n    <div class=\"text-end mt-3 pe-5\">\n      <button type=\"button\" class=\"btn btn-danger\" @click=\"openDelModal('all')\">刪除全部訂單</button>\n    </div>\n    <div class=\"overflow-auto\">\n      <table class=\"table mt-4 text-nowrap\">\n        <thead>\n            <tr>\n            <th>訂單編號</th>\n            <th>訂單成立時間</th>\n            <th>訂購人</th>\n            <th>訂單金額</th>\n            <th>付款狀態</th>\n            <th>編輯</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"order in orders\" :key=\"order.id\">\n              <td>{{ order.id }}</td>\n              <td>{{ $filters.inputDateType(order.create_at) }}</td>\n              <td>{{ order.user.name }}</td>\n              <td>{{ $filters.currency(order.total) }}</td>\n              <td>\n                  <span class=\"text-success\" v-if=\"order.is_paid\">已付款</span>\n                  <span class=\"text-muted\" v-else>未付款</span>\n              </td>\n              <td>\n                  <div class=\"btn-group\">\n                    <button class=\"btn btn-outline-primary btn-sm text-nowrap\"\n                    @click=\"openModal(order)\">編輯</button>\n                    <button class=\"btn btn-outline-danger btn-sm text-nowrap\"\n                    @click=\"openDelModal(order)\">刪除</button>\n                  </div>\n              </td>\n            </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <PaginationModel :pages=\"pagination\"\n    @emit-pages=\"getOrders\"></PaginationModel>\n\n    <OrderModal ref=\"orderModal\"\n    :order=\"tempOrder\"\n    @update-order=\"updateOrder\"></OrderModal>\n\n    <DelModal ref=\"delModal\"\n    :item=\"delOrder\"\n    @del-item=\"deleteOrder\"\n    @del-all=\"deleteAll\"></DelModal>\n  </div>\n</template>\n\n<script>\nimport PaginationModel from '@/components/PaginationModel.vue';\nimport OrderModal from '@/components/OrderModal.vue';\nimport DelModal from '@/components/DelModal.vue';\n\nexport default {\n  components: {\n    PaginationModel,\n    OrderModal,\n    DelModal,\n  },\n  data() {\n    return {\n      orders: [],\n      tempOrder: {},\n      delOrder: {},\n      isLoading: false,\n      pagination: {},\n    };\n  },\n  methods: {\n    getOrders(page = 1) {\n      let toPage = '';\n      if (page === 'previous' && this.pagination.has_pre) {\n        toPage = this.pagination.current_page - 1;\n      } else if (page === 'next' && this.pagination.has_next) {\n        toPage = this.pagination.current_page + 1;\n      } else {\n        toPage = page;\n      }\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${toPage}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.orders = res.data.orders;\n            this.pagination = res.data.pagination;\n          }\n        })\n        .catch((err) => {\n          console.log('err', err);\n          this.isLoading = false;\n        });\n    },\n    openModal(order) {\n      this.tempOrder = { ...order };\n      const orderComponent = this.$refs.orderModal;\n      orderComponent.showModal();\n    },\n    updateOrder(tempOrder) {\n      const orderComponent = this.$refs.orderModal;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${tempOrder.id}`;\n      this.isLoading = true;\n      this.$http.put(api, { data: this.tempOrder })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            orderComponent.hideModal();\n            this.$httpMessageState('success', '更新成功', res.data.message);\n            this.getOrders();\n          } else {\n            this.$httpMessageState('warning', '更新失敗', '請重新檢查內容，並再次嘗試。');\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n    openDelModal(order) {\n      if (order === 'all') {\n        this.delOrder = {\n          title: '全部訂單',\n        };\n      } else {\n        this.delOrder = order;\n        this.delOrder.title = `訂單${order.id}`;\n      }\n      const orderComponent = this.$refs.delModal;\n      orderComponent.showModal();\n    },\n    deleteOrder() {\n      const orderComponent = this.$refs.delModal;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.delOrder.id}`;\n      this.isLoading = true;\n\n      this.$http.delete(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.getOrders();\n            orderComponent.hideModal();\n            this.$httpMessageState('success', '刪除訂單成功', res.data.message);\n          } else {\n            this.$httpMessageState('warning', '刪除訂單失敗', res.data.message);\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n    deleteAll() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`;\n      const orderComponent = this.$refs.delModal;\n      this.$http.delete(api)\n        .then((res) => {\n          orderComponent.hideModal();\n          if (res.data.success) {\n            this.$httpMessageState('success', '成功清空訂單', '讓我們重新開始吧 !');\n            this.getOrders();\n          } else {\n            this.$httpMessageState('warning', '刪除全部訂單失敗', res.data.message);\n          }\n        })\n        .catch(() => {\n          orderComponent.hideModal();\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n  inject: ['emitter', '$httpMessageState'],\n};\n</script>\n","<template>\n    <div class=\"modal fade\" ref=\"modal\">\n      <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\n          <div class=\"modal-content border-0\">\n              <div class=\"modal-header bg-danger text-white\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                    <span>編輯訂單 ( 訂單編號: {{ tempOrder.id }} )</span>\n                </h5>\n                <button type=\"button\" class=\"btn-close\"\n                        data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <div class=\"row gy-3 gy-lg-1\">\n                    <div class=\"col-lg-4 border-end\">\n                        <h5 class=\"text-danger\">訂購人資訊</h5>\n\n                        <label for=\"user-name\" class=\"form-label w-100\">姓名\n                            <input type=\"text\" class=\"form-control\" id=\"user-name\"\n                            v-model=\"tempOrder.user.name\">\n                        </label>\n\n                        <label for=\"user-tel\" class=\"form-label w-100\">電話\n                            <input type=\"text\" class=\"form-control\" id=\"user-tel\"\n                            v-model=\"tempOrder.user.tel\">\n                        </label>\n\n                        <label for=\"user-address\" class=\"form-label w-100\">地址\n                            <input type=\"text\" class=\"form-control\" id=\"user-address\"\n                            v-model=\"tempOrder.user.address\">\n                        </label>\n\n                        <label for=\"user-email\" class=\"form-label w-100\">電子信箱\n                            <input type=\"text\" class=\"form-control\" id=\"user-email\"\n                            v-model=\"tempOrder.user.email\">\n                        </label>\n                    </div>\n                    <div class=\"col-lg-8\">\n                        <h5 class=\"text-danger\">訂單資訊</h5>\n                        <div class=\"row\">\n                          <div class=\"col-lg-6\">\n                            <label for=\"order-time\" class=\"form-label w-100\">訂單建立時間\n                                <input type=\"date\" class=\"form-control\" id=\"order-time\"\n                                v-model=\"tempOrder.create_at\" disabled>\n                            </label>\n                          </div>\n                          <div class=\"col-lg-6\">\n                            <p>付款狀態</p>\n                            <div class=\"d-flex\">\n                              <div class=\"form-check form-switch\">\n                                <label class=\"form-check-label\" for=\"order_paid\">\n                                  <input class=\"form-check-input\" type=\"checkbox\"\n                                  role=\"switch\" id=\"order_paid\" aria-checked=\"check\"\n                                  v-model=\"tempOrder.is_paid\">\n                                </label>\n                              </div>\n                              <div>\n                                <div>\n                                  <span class=\"text-success\" v-if=\"tempOrder.is_paid\">已付款</span>\n                                  <span class=\"text-danger\" v-else>尚未付款</span>\n                                </div>\n                                <span class=\"text-success\" v-if=\"tempOrder.paid_date\">\n                                  付款日 {{ $filters.date(tempOrder.paid_date * 1000) }}\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"col-lg-12\">\n                            <p class=\"mb-0\">訂單內容</p>\n                            <div class=\"overflow-auto border border-3 border-danger rounded mb-3\">\n                              <table class=\"table text-nowrap\">\n                                <thead>\n                                  <tr>\n                                    <th>商品名稱</th>\n                                    <th width=\"120px\">數量</th>\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  <tr v-for=\"(item) in tempOrder.products\" :key=\"item.id\">\n                                    <td>{{ item.product.title }}</td>\n                                    <td>\n                                      <div class=\"input-group input-group-sm\" style=\"width: 120px;\">\n                                          <input type=\"number\" class=\"form-control\"\n                                          aria-label=\"buy number\" v-model.number=\"item.qty\"\n                                          min=\"1\" disabled>\n                                          <div class=\"input-group-text\">\n                                            / {{ item.product.unit }}</div>\n                                      </div>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                              </table>\n                            </div>\n                          </div>\n                          <div class=\"col-lg-6\">\n                            <p class=\"mb-0\">買家留言</p>\n                            <div class=\"border bg-white rounded p-2 mb-3\">\n                              <p>{{ tempOrder.message }}</p>\n                            </div>\n                          </div>\n                          <div class=\"col-lg-6\">\n                            <h5 class=\"text-center\">\n                              總金額 {{ $filters.currency(tempOrder.total) }} NTD\n                            </h5>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-lg btn-outline-secondary d-block\"\n                        data-bs-dismiss=\"modal\">取消\n                </button>\n                <button type=\"button\" class=\"btn btn-lg btn-danger w-50\"\n                @click=\"emitOrder\">確認</button>\n              </div>\n          </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      tempOrder: {\n        products: {},\n        user: {},\n      },\n      isLoading: false,\n      is_paid: '',\n    };\n  },\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n      this.tempOrder.create_at = this.$filters.inputDateType(this.tempOrder.create_at);\n    },\n  },\n  methods: {\n    emitOrder() {\n      const unixTime = new Date(this.tempOrder.create_at).getTime();\n      this.tempOrder.create_at = unixTime / 1000;\n      this.$emit('update-order', this.tempOrder);\n    },\n  },\n  mixins: [modalMixin],\n  inject: ['$httpMessageState'],\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=36236d04\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\VueProject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrdersView.vue?vue&type=template&id=26905904\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\VueProject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","_hoisted_2","type","onClick","_cache","$event","$options","openDelModal","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","orders","order","key","id","_toDisplayString","_ctx","$filters","inputDateType","create_at","user","name","currency","total","is_paid","_hoisted_6","_hoisted_7","_hoisted_8","openModal","_hoisted_9","_hoisted_10","_component_PaginationModel","pages","pagination","onEmitPages","getOrders","_component_OrderModal","ref","tempOrder","onUpdateOrder","updateOrder","_component_DelModal","item","delOrder","onDelItem","deleteOrder","onDelAll","deleteAll","role","for","width","style","_hoisted_11","_hoisted_12","tel","_hoisted_13","address","_hoisted_14","email","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","disabled","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","paid_date","_hoisted_27","date","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","products","product","title","_hoisted_33","qty","min","_hoisted_35","unit","_hoisted_36","_hoisted_37","_hoisted_38","message","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","args","emitOrder","props","Object","default","data","modal","watch","this","methods","unixTime","Date","getTime","$emit","mixins","modalMixin","inject","__exports__","components","PaginationModel","OrderModal","DelModal","page","toPage","has_pre","current_page","has_next","api","$http","get","then","res","success","catch","err","console","log","orderComponent","$refs","orderModal","showModal","put","hideModal","$httpMessageState","delModal","delete","created","render"],"sourceRoot":""}