{"version":3,"file":"js/249.5e13fcde.js","mappings":"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","sources":["webpack://vue-project/./src/components/UserInfo.vue","webpack://vue-project/./src/components/UserInfo.vue?ae28"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n  <div class=\"row justify-content-center g-0 bg-light\">\n    <h5 class=\"text-center mt-3\">訂購流程</h5>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-sm-4 mt-3\" style=\"max-width: 200px;\">\n        <div class=\"border border-3 border-secondary rounded\">\n          <p class=\"text-center text-secondary mb-0\">確認購物車</p>\n        </div>\n      </div>\n      <div class=\"col-sm-4 mt-3\" style=\"max-width: 200px;\">\n        <div class=\"border border-3 border-danger rounded\">\n          <p class=\"text-center text-danger mb-0\">填寫訂購資訊</p>\n        </div>\n      </div>\n      <div class=\"col-sm-4 mt-3\" style=\"max-width: 200px;\">\n        <div class=\"border border-3 border-secondary rounded\">\n          <p class=\"text-center text-secondary mb-0\">建立訂單</p>\n        </div>\n      </div>\n    </div>\n    <v-form class=\"col-md-6 bg-white mt-3 p-5\" v-slot=\"{ errors }\"\n          @submit=\"createOrder\">\n      <h5 class=\"text-center\">收件人資訊</h5>\n      <div class=\"mb-3\">\n        <label for=\"email\" class=\"form-label\">Email<input v-if=\"false\"></label>\n        <v-field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['email'] }\"\n                  placeholder=\"請輸入 Email\" rules=\"email|required\"\n                  v-model=\"form.user.email\"\n                  @change=\"textCheck('email')\"></v-field>\n        <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        <p class=\"text-danger mb-0\" v-if=\"specialText.email\">請勿輸入特殊符號</p>\n      </div>\n\n      <div class=\"mb-3\">\n        <label for=\"name\" class=\"form-label\">收件人姓名<input v-if=\"false\"></label>\n        <v-field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['姓名'] }\"\n                  placeholder=\"請輸入姓名\" rules=\"required\"\n                  v-model=\"form.user.name\"\n                  @change=\"textCheck('name')\"></v-field>\n        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        <p class=\"text-danger mb-0\" v-if=\"specialText.name\">請勿輸入特殊符號</p>\n      </div>\n\n      <div class=\"mb-3\">\n        <label for=\"tel\" class=\"form-label\">收件人電話<input v-if=\"false\"></label>\n        <v-field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['電話'] }\"\n                  placeholder=\"請輸入電話\" rules=\"required\"\n                  v-model=\"form.user.tel\"\n                  @change=\"textCheck('tel')\"></v-field>\n        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        <p class=\"text-danger mb-0\" v-if=\"specialText.tel\">請勿輸入特殊符號</p>\n      </div>\n\n      <div class=\"mb-3\">\n        <label for=\"address\" class=\"form-label\">收件人地址<input v-if=\"false\"></label>\n        <v-field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors['地址'] }\"\n                  placeholder=\"請輸入地址\" rules=\"required\"\n                  v-model=\"form.user.address\"\n                  @change=\"textCheck('address')\"></v-field>\n        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        <p class=\"text-danger mb-0\" v-if=\"specialText.address\">請勿輸入特殊符號</p>\n      </div>\n\n      <div class=\"mb-3\">\n        <label for=\"message\" class=\"form-label\">留言<input v-if=\"false\"></label>\n        <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\n                  v-model=\"form.message\"></textarea>\n      </div>\n      <div class=\"text-end d-flex justify-content-between\">\n        <button class=\"btn btn-outline-secondary\" type=\"button\"\n        @click=\"backToCart\">\n          <i class=\"bi bi-arrow-bar-left\"></i>回到購物車\n        </button>\n        <button class=\"btn btn-danger w-50\">\n          建立訂單<i class=\"bi bi-arrow-bar-right\"></i>\n        </button>\n      </div>\n    </v-form>\n  </div>\n  </template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      specialText: {\n        email: false,\n        name: false,\n        tel: false,\n        address: false,\n      },\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  inject: ['$httpMessageState'],\n  methods: {\n    createOrder() {\n      if (this.specialText.email && this.specialText.name && this.specialText.tel\n        && this.specialText.address) { return; }\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.isLoading = true;\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.$httpMessageState('success', '建立訂單成功', '感謝您的訂購 !');\n            this.$router.push(`/userCheckout/order/${res.data.orderId}`);\n          } else {\n            this.$httpMessageState('warning', '建立訂單失敗', res.data.message);\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n          this.$httpMessageState('danger', '發生錯誤', '請聯繫工程師。');\n        });\n    },\n    backToCart() {\n      this.$router.go(-1);\n    },\n    textCheck(type) {\n      const newText = this.form.user[type].replace(/[`~!#$%^&*()+=<>?:\"{}|,/;'\\\\[\\]·~！#￥%……&*（）——\\-+={}|《》？：“”【】、；‘’，。、]/g, '');\n      if (newText !== this.form.user[type]) {\n        this.specialText[type] = true;\n      } else {\n        this.specialText[type] = false;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./UserInfo.vue?vue&type=template&id=503e22e0\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\VueProject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","_hoisted_2","_component_v_form","onSubmit","$options","createOrder","errors","_hoisted_4","_hoisted_5","_hoisted_6","_component_v_field","id","name","type","_normalizeClass","placeholder","rules","form","user","email","$event","onChange","_cache","textCheck","_component_ErrorMessage","specialText","_createElementBlock","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","tel","_hoisted_16","_hoisted_17","_hoisted_18","address","_hoisted_20","_hoisted_21","_hoisted_22","cols","rows","message","_hoisted_24","onClick","args","backToCart","_hoisted_25","_hoisted_26","data","status","loadingItem","inject","methods","this","url","order","$http","post","then","res","success","$httpMessageState","$router","push","orderId","catch","err","console","log","go","newText","replace","__exports__","render"],"sourceRoot":""}