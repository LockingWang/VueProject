{"version":3,"file":"js/718.cffb9c20.js","mappings":"oMAESA,MAAM,sB,GAINA,MAAM,iB,GACFA,MAAM,c,GACXC,EAAAA,EAAAA,GASQ,SATDD,MAAM,eAAa,EACtBC,EAAAA,EAAAA,GAOK,YANLA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,UAAE,G,GAOdF,MAAM,c,GAGNA,MAAM,c,SAIAA,MAAM,gB,SACNA,MAAM,c,GAGPA,MAAM,a,6MAhCvBG,EAAAA,EAAAA,IAAqDC,EAAA,CAApCC,OAAQC,EAAAC,WAAS,oBAClCN,EAAAA,EAAAA,GAGM,MAHNO,EAGM,EAFFP,EAAAA,EAAAA,GACsC,UAD9BQ,KAAK,SAAST,MAAM,kBAC3BU,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,WAAU,KAAO,WAE7Bb,EAAAA,EAAAA,GAqCM,MArCNc,EAqCM,EApCJd,EAAAA,EAAAA,GAmCQ,QAnCRe,EAmCQ,CAlCNC,GAUAhB,EAAAA,EAAAA,GAuBQ,6BAtBJiB,EAAAA,EAAAA,IAqBKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArBcd,EAAAe,UAARC,K,WAAXJ,EAAAA,EAAAA,IAqBK,MArByBK,IAAKD,EAAKE,I,EACxCvB,EAAAA,EAAAA,GAA0B,WAAAwB,EAAAA,EAAAA,IAApBH,EAAKI,UAAQ,IACnBzB,EAAAA,EAAAA,GAAuB,WAAAwB,EAAAA,EAAAA,IAAjBH,EAAKK,OAAK,IAChB1B,EAAAA,EAAAA,GAEK,KAFL2B,GAEKH,EAAAA,EAAAA,IADEI,EAAAC,SAASC,SAAST,EAAKU,eAAY,IAE1C/B,EAAAA,EAAAA,GAEK,KAFLgC,GAEKR,EAAAA,EAAAA,IADEI,EAAAC,SAASC,SAAST,EAAKY,QAAK,IAEnCjC,EAAAA,EAAAA,GAGK,WAFgCqB,EAAKa,aAAU,WAAhDjB,EAAAA,EAAAA,IAA2D,OAA3DkB,EAAkD,SAAE,WACpDlB,EAAAA,EAAAA,IAA0C,OAA1CmB,EAAgC,WAEpCpC,EAAAA,EAAAA,GAOK,YANDA,EAAAA,EAAAA,GAKM,MALNqC,EAKM,EAJNrC,EAAAA,EAAAA,GAC2C,UADnCD,MAAM,6CACbU,QAAKE,GAAEC,EAAAC,WAAU,EAAOQ,IAAO,KAAE,EAAAiB,IAClCtC,EAAAA,EAAAA,GACuC,UAD/BD,MAAM,4CACbU,QAAKE,GAAEC,EAAA2B,aAAalB,IAAO,KAAE,EAAAmB,Y,aAQ1CtC,EAAAA,EAAAA,IAC8CuC,EAAA,CAD5BC,MAAOrC,EAAAsC,WACtBC,YAAYhC,EAAAiC,a,iCACf3C,EAAAA,EAAAA,IAE6D4C,EAAA,CAF/CC,IAAI,eACHC,QAAS3C,EAAA4C,YACTC,gBAAgBtC,EAAAuC,e,uCAC/BjD,EAAAA,EAAAA,IAE+CkD,EAAA,CAFrCL,IAAI,WACH1B,KAAMhB,EAAAgD,QACNC,UAAU1C,EAAA2C,e,yDCnDhBxD,MAAM,aAAagD,IAAI,S,GAErBhD,MAAM,wBAAwByD,KAAK,Y,GAC/BzD,MAAM,0B,GACPC,EAAAA,EAAAA,GAMM,OANDD,MAAM,qCAAmC,EAC9CC,EAAAA,EAAAA,GAEK,MAFDD,MAAM,cAAcwB,GAAG,qB,EACvBvB,EAAAA,EAAAA,GAAiB,YAAX,WAEVA,EAAAA,EAAAA,GAC4D,UADpDQ,KAAK,SAAST,MAAM,YACpB,kBAAgB,QAAQ,aAAW,Y,MAEtCA,MAAM,c,GACNA,MAAM,O,GAEFA,MAAM,Y,GACXC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACHD,MAAM,Q,aAKFA,MAAM,mBAAmB0D,IAAI,W,GAKjC1D,MAAM,Q,GACA0D,IAAI,aAAa1D,MAAM,oB,GAC9BC,EAAAA,EAAAA,GAAsC,KAAnCD,MAAM,0BAAwB,S,GAQhCA,MAAM,Q,GACPC,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GACJD,MAAM,oB,GAMNA,MAAM,oB,GACFS,KAAK,OAAOT,MAAM,eAAe,aAAW,YACnDgD,IAAI,a,GAKDhD,MAAM,kC,2BAOLC,EAAAA,EAAAA,GAAuB,KAApBD,MAAM,WAAS,S,GAAlB2D,G,GAOL3D,MAAM,Y,GACNA,MAAM,Q,GACA0D,IAAI,QAAQ1D,MAAM,oB,GAOxBA,MAAM,Y,GACFA,MAAM,iB,GACJ0D,IAAI,WAAW1D,MAAM,oB,GAMvBA,MAAM,iB,GACJ0D,IAAI,QAAQ1D,MAAM,oB,GAQxBA,MAAM,Y,GACFA,MAAM,iB,GACJ0D,IAAI,eAAe1D,MAAM,oB,GAM3BA,MAAM,iB,IACJ0D,IAAI,QAAQ1D,MAAM,oB,IAO7BC,EAAAA,EAAAA,GAAI,mB,IAECD,MAAM,Q,IACA0D,IAAI,cAAc1D,MAAM,oB,IAM9BA,MAAM,Q,IACA0D,IAAI,UAAU1D,MAAM,oB,IAM1BA,MAAM,Q,IACFA,MAAM,c,IACJA,MAAM,mBAAmB0D,IAAI,c,IAavC1D,MAAM,gB,IACTC,EAAAA,EAAAA,GAES,UAFDQ,KAAK,SAAST,MAAM,2CACpB,kBAAgB,SAAQ,OAChC,G,8EA7IZkB,EAAAA,EAAAA,IAmJM,MAnJNV,EAmJM,EAlJJL,EAAAA,EAAAA,IAAqDC,EAAA,CAApCC,OAAQC,EAAAC,WAAS,oBAClCN,EAAAA,EAAAA,GAgJM,MAhJNc,EAgJM,EA/IFd,EAAAA,EAAAA,GA8IM,MA9INe,EA8IM,CA7IFC,GAOAhB,EAAAA,EAAAA,GA8HM,MA9HN2B,EA8HM,EA7HN3B,EAAAA,EAAAA,GA4HM,MA5HNgC,EA4HM,EA1HFhC,EAAAA,EAAAA,GAiDM,MAjDNmC,EAiDM,CAhDNC,GACApC,EAAAA,EAAAA,GAGM,MAHNqC,EAGM,EAFJrC,EAAAA,EAAAA,GACmC,OAD9BD,MAAM,YACX4D,IAAI,GAAIC,IAAKvD,EAAA4C,YAAYY,U,aAE3B7D,EAAAA,EAAAA,GAKM,aAJJA,EAAAA,EAAAA,GAGQ,QAHRwC,EAGQ,UAHsC,YAC5C,SAAAxC,EAAAA,EAAAA,GAC+B,SADxBD,MAAM,eAAeS,KAAK,OAAOe,GAAG,U,qCAClClB,EAAA4C,YAAYY,SAAQlD,I,iBAApBN,EAAA4C,YAAYY,iBAGzB7D,EAAAA,EAAAA,GAQM,MARN8D,EAQM,EAPF9D,EAAAA,EAAAA,GAMS,QANT+D,EAMS,CALTC,GACAhE,EAAAA,EAAAA,GAIC,SAJMQ,KAAK,OAAOe,GAAG,aACtBxB,MAAM,eACNgD,IAAI,WACHkB,SAAMvD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAsD,e,eAIblE,EAAAA,EAAAA,GA0BM,MA1BNmE,EA0BM,CAzBFC,GACApE,EAAAA,EAAAA,GAKM,MALNqE,EAKM,WAJJrE,EAAAA,EAAAA,GAC8C,SADvCQ,KAAK,OAAOT,MAAM,eAAeuE,YAAY,UACpD,aAAW,W,qCAAoBjE,EAAAkE,cAAa5D,I,iBAAbN,EAAAkE,kBAC/BvE,EAAAA,EAAAA,GAC8D,UADtDD,MAAM,4BAA4BS,KAAK,SAC/Ce,GAAG,gBAAiBd,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA4D,aAAa,SAAQ,YAElDxE,EAAAA,EAAAA,GAKM,MALNyE,EAKM,EAJJzE,EAAAA,EAAAA,GACgB,QADhB0E,EACgB,WAChB1E,EAAAA,EAAAA,GAC4C,UADpCD,MAAM,4BAA4BS,KAAK,SAC9CC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA4D,aAAa,UAAS,YAGhCxE,EAAAA,EAAAA,GAUM,MAVN2E,EAUM,gBATJ1D,EAAAA,EAAAA,IAQMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAPad,EAAA4C,YAAY2B,WAAS,CAAhCC,EAAKC,M,WADb7D,EAAAA,EAAAA,IAQM,OARDlB,MAAM,mCACgCuB,IAAKuD,G,EAC9C7E,EAAAA,EAAAA,GAAyC,OAApCD,MAAM,YAAa6D,IAAKiB,EAAKlB,IAAI,I,WACtC3D,EAAAA,EAAAA,GAIS,UAJDQ,KAAK,SACbT,MAAM,mDACLU,QAAKE,GAAEC,EAAAmE,UAAUD,I,yBAQ1B9E,EAAAA,EAAAA,GAsEM,MAtENgF,EAsEM,EArENhF,EAAAA,EAAAA,GAMM,MANNiF,EAMM,EALFjF,EAAAA,EAAAA,GAIS,QAJTkF,EAIS,UAJmC,gBAC5C,SAAAlF,EAAAA,EAAAA,GAGC,SAHMQ,KAAK,OAAOT,MAAM,eAAewB,GAAG,QAC3C+C,YAAY,Q,qCACHjE,EAAA4C,YAAYvB,MAAKf,I,iBAAjBN,EAAA4C,YAAYvB,cAIzB1B,EAAAA,EAAAA,GAeM,MAfNmF,EAeM,EAdFnF,EAAAA,EAAAA,GAMM,MANNoF,EAMM,EALNpF,EAAAA,EAAAA,GAIS,QAJTqF,EAIS,UAJsC,mBAC/C,SAAArF,EAAAA,EAAAA,GAGC,SAHMQ,KAAK,OAAOT,MAAM,eAAewB,GAAG,WAC3C+C,YAAY,Q,qCACHjE,EAAA4C,YAAYxB,SAAQd,I,iBAApBN,EAAA4C,YAAYxB,iBAGrBzB,EAAAA,EAAAA,GAMM,MANNsF,EAMM,EALNtF,EAAAA,EAAAA,GAIS,QAJTuF,EAIS,UAJmC,eAC5C,SAAAvF,EAAAA,EAAAA,GAGC,SAHMQ,KAAK,OAAOT,MAAM,eAAewB,GAAG,OAC3C+C,YAAY,Q,qCACHjE,EAAA4C,YAAYuC,KAAI7E,I,iBAAhBN,EAAA4C,YAAYuC,eAKzBxF,EAAAA,EAAAA,GAeM,MAfNyF,EAeM,EAdFzF,EAAAA,EAAAA,GAMM,MANN0F,EAMM,EALN1F,EAAAA,EAAAA,GAIS,QAJT2F,EAIS,UAJ0C,uBACnD,SAAA3F,EAAAA,EAAAA,GAGC,SAHMQ,KAAK,SAAST,MAAM,eAAewB,GAAG,eAC7C+C,YAAY,Q,qCACHjE,EAAA4C,YAAYlB,aAAYpB,I,iBAAxBN,EAAA4C,YAAYlB,qBAGrB/B,EAAAA,EAAAA,GAMM,MANN4F,EAMM,EALN5F,EAAAA,EAAAA,GAIS,QAJT6F,GAIS,UAJmC,gBAC5C,SAAA7F,EAAAA,EAAAA,GAGC,SAHMQ,KAAK,SAAST,MAAM,eAAewB,GAAG,QAC7C+C,YAAY,Q,qCACHjE,EAAA4C,YAAYhB,MAAKtB,I,iBAAjBN,EAAA4C,YAAYhB,eAIzB6D,IAEA9F,EAAAA,EAAAA,GAMM,MANN+F,GAMM,EALF/F,EAAAA,EAAAA,GAIoB,QAJpBgG,GAIoB,UAJ8B,UAClD,SAAAhG,EAAAA,EAAAA,GAGY,YAHFQ,KAAK,OAAOT,MAAM,eAAewB,GAAG,cAC9C+C,YAAY,U,uCACHjE,EAAA4C,YAAYgD,YAAWtF,I,iBAAvBN,EAAA4C,YAAYgD,oBAGzBjG,EAAAA,EAAAA,GAMM,MANNkG,GAMM,EALFlG,EAAAA,EAAAA,GAIoB,QAJpBmG,GAIoB,UAJ0B,UAC9C,SAAAnG,EAAAA,EAAAA,GAGY,YAHFQ,KAAK,OAAOT,MAAM,eAAewB,GAAG,UAC9C+C,YAAY,Y,uCACHjE,EAAA4C,YAAYmD,QAAOzF,I,iBAAnBN,EAAA4C,YAAYmD,gBAGzBpG,EAAAA,EAAAA,GAWM,MAXNqG,GAWM,EAVFrG,EAAAA,EAAAA,GASM,MATNsG,GASM,EARNtG,EAAAA,EAAAA,GAOQ,QAPRuG,GAOQ,WANJvG,EAAAA,EAAAA,GAIqC,SAJ9BD,MAAM,mBAAmBS,KAAK,WAChC,aAAY,EACZ,cAAa,EACde,GAAG,a,uCACMlB,EAAA4C,YAAYf,WAAUvB,I,iBAAtBN,EAAA4C,YAAYf,eAAU,QAAE,uBAQjDlC,EAAAA,EAAAA,GAMM,MANNwG,GAMM,CALJC,IAGAzG,EAAAA,EAAAA,GACyD,UADjDQ,KAAK,SAAST,MAAM,6BAC3BU,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEiB,EAAA8E,MAAM,iBAAkBrG,EAAA4C,eAAc,aAAE,I,wBAUhE,IACE0D,MAAO,CACL3D,QAAS,CACPxC,KAAMoG,OACNC,UAAY,MAAO,CAAC,CAAG,IAG3BC,MAAO,CACL9D,UACE+D,KAAK9D,YAAc8D,KAAK/D,OAC1B,GAEFgE,OACE,MAAO,CACLC,MAAO,CAAC,EACRhE,YAAa,CAAC,EACdsB,cAAe,GACfjE,WAAW,EAEf,EACA4G,QAAS,CACPhD,aACE,MAAMA,EAAa6C,KAAKI,MAAMC,SAASC,MAAM,GACvCC,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkBtD,GAElC6C,KAAKzG,WAAY,EACjB,MAAMuE,EAAO,iEACbkC,KAAKU,MAAMC,KAAK7C,EAAKyC,GAClBK,MAAMC,IACLb,KAAKzG,WAAY,EACbsH,EAAIZ,KAAKa,SACXd,KAAK9D,YAAYY,SAAW+D,EAAIZ,KAAKnD,SACrCkD,KAAKe,kBAAkB,UAAW,WAAY,0BAE9Cf,KAAKe,kBAAkB,UAAW,WAAY,oBAChD,IAEDC,OAAM,KACLhB,KAAKzG,WAAY,EACjByG,KAAKe,kBAAkB,SAAU,OAAQ,SAAS,GAExD,EACAtD,aAAawD,GACX,GAAIjB,KAAK9D,YAAY2B,UAAUqD,QAAU,EACvClB,KAAKe,kBAAkB,UAAW,UAAW,+BAI/C,GAAa,QAATE,EACFjB,KAAK9D,YAAY2B,UAAUsD,KAAKnB,KAAKxC,mBAChC,CACL,MAAML,EAAa6C,KAAKI,MAAMgB,UAAUd,MAAM,GACxCC,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkBtD,GAClC,MAAMW,EAAO,iEACbkC,KAAKzG,WAAY,EACjByG,KAAKU,MAAMC,KAAK7C,EAAKyC,GAClBK,MAAMC,IACLb,KAAKzG,WAAY,EACbsH,EAAIZ,KAAKa,SACXd,KAAK9D,YAAY2B,UAAUsD,KAAKN,EAAIZ,KAAKnD,UACzCkD,KAAKe,kBAAkB,UAAW,UAAW,gBAE7Cf,KAAKe,kBAAkB,UAAW,UAAW,oBAC/C,IAEDC,OAAM,KACLhB,KAAKzG,WAAY,EACjByG,KAAKe,kBAAkB,SAAU,OAAQ,SAAS,GAExD,CACF,EACA/C,UAAUD,GACRiC,KAAK9D,YAAY2B,UAAUwD,OAAOtD,EAAG,EACvC,GAEFuD,OAAQ,CAACC,GAAAA,GACTC,OAAQ,CAAC,sB,SCnOX,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,sBFqDA,IACExB,OACE,MAAO,CACL5F,SAAU,GACVuB,WAAY,CAAC,EACbM,YAAa,CAAC,EACdwF,OAAO,EACPpF,QAAS,CAAC,EACV/C,WAAW,EAEf,EACAoI,WAAY,CACVC,aAAY,GACZC,SAAQ,KACRC,gBAAeA,GAAAA,GAEjBN,OAAQ,CAAC,UAAW,qBACpBrB,QAAS,CACPrE,YAAYiG,EAAO,GACjB,IAAIC,EAAS,GAEXA,EADW,aAATD,GAAuB/B,KAAKpE,WAAWqG,QAChCjC,KAAKpE,WAAWsG,aAAe,EACtB,SAATH,GAAmB/B,KAAKpE,WAAWuG,SACnCnC,KAAKpE,WAAWsG,aAAe,EAE/BH,EAEX,MAAMK,EAAO,yEAAgFJ,IAC7FhC,KAAKzG,WAAY,EACjByG,KAAKU,MAAM2B,IAAID,GACZxB,MAAMC,IACLb,KAAKzG,WAAY,EACbsH,EAAIZ,KAAKa,UACXd,KAAK3F,SAAWwG,EAAIZ,KAAK5F,SACzB2F,KAAKpE,WAAaiF,EAAIZ,KAAKrE,WAC7B,IAEDoF,OAAOsB,IACNC,QAAQC,IAAIF,EAAIG,SAAS,GAE/B,EACA3I,UAAU4H,EAAOpH,GAEb0F,KAAK9D,YADHwF,EACiB,CACjB7D,UAAW,IAGM,IAAKvD,GAE1B0F,KAAK0B,MAAQA,EACb,MAAMgB,EAAmB1C,KAAKI,MAAMuC,aACpCD,EAAiBE,WACnB,EACApH,aAAalB,GACX0F,KAAK1D,QAAUhC,EACf,MAAMoI,EAAmB1C,KAAKI,MAAMyC,SACpCH,EAAiBE,WACnB,EACAxG,cAAc9B,GACZ0F,KAAK9D,YAAc5B,EAEnB,IAAI8H,EAAO,kEACPU,EAAa,OAGZ9C,KAAK0B,QACRU,EAAO,mEAA0E9H,EAAKE,KACtFsI,EAAa,OAEf,MAAMJ,EAAmB1C,KAAKI,MAAMuC,aACpC3C,KAAKzG,WAAY,EACjByG,KAAKU,MAAMoC,GAAYV,EAAK,CAAEnC,KAAMD,KAAK9D,cACtC0E,MAAMC,IACLb,KAAKzG,WAAY,EACbsH,EAAIZ,KAAKa,SACX4B,EAAiBK,YACjB/C,KAAKe,kBAAkB,UAAW,OAAQF,EAAIZ,KAAK+C,SACnDhD,KAAKlE,eAELkE,KAAKe,kBAAkB,UAAW,OAAQF,EAAIZ,KAAK+C,QACrD,IAEDhC,OAAM,KACLhB,KAAKzG,WAAY,EACjByG,KAAKe,kBAAkB,SAAU,OAAQ,SAAS,GAExD,EACAvE,gBACE,MAAM4F,EAAO,mEAA0EpC,KAAK1D,QAAQ9B,KACpGwF,KAAKzG,WAAY,EACjByG,KAAKU,MAAMuC,OAAOb,GACfxB,MAAMC,IAEL,GADAb,KAAKzG,WAAY,EACbsH,EAAIZ,KAAKa,QAAS,CACpB,MAAM4B,EAAmB1C,KAAKI,MAAMyC,SACpCH,EAAiBK,YACjB/C,KAAKe,kBAAkB,UAAW,OAAQF,EAAIZ,KAAK+C,SACnDhD,KAAKlE,aACP,MACEkE,KAAKe,kBAAkB,UAAW,OAAQF,EAAIZ,KAAK+C,QACrD,IAEDhC,OAAM,KACLhB,KAAKzG,WAAY,EACjByG,KAAKe,kBAAkB,SAAU,OAAQ,SAAS,GAExD,GAEFmC,UACElD,KAAKlE,aACP,GGrKF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASqH,KAEpE,S","sources":["webpack://vue-project/./src/views/ProductView.vue","webpack://vue-project/./src/components/ProductModal.vue","webpack://vue-project/./src/components/ProductModal.vue?b0ff","webpack://vue-project/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n    <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n    <div class=\"text-end mt-3 pe-5\">\n        <button type=\"button\" class=\"btn btn-primary\"\n        @click=\"openModal(true)\">新增產品</button>\n    </div>\n    <div class=\"overflow-auto\">\n      <table class=\"table mt-4\">\n        <thead class=\"text-nowrap\">\n            <tr>\n            <th width=\"120\">分類</th>\n            <th>產品名稱</th>\n            <th width=\"120\">原價</th>\n            <th width=\"120\">售價</th>\n            <th width=\"100\">是否啟用</th>\n            <th width=\"200\">編輯</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\">\n            <td>{{item.category}}</td>\n            <td>{{item.title}}</td>\n            <td class=\"text-right\">\n                {{ $filters.currency(item.origin_price) }}\n            </td>\n            <td class=\"text-right\">\n                {{ $filters.currency(item.price) }}\n            </td>\n            <td>\n                <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n                <span class=\"text-muted\" v-else>未啟用</span>\n            </td>\n            <td>\n                <div class=\"btn-group\">\n                <button class=\"btn btn-outline-primary btn-sm text-nowrap\"\n                @click=\"openModal(false, item)\">編輯</button>\n                <button class=\"btn btn-outline-danger btn-sm text-nowrap\"\n                @click=\"openDelModal(item)\">刪除</button>\n                </div>\n            </td>\n            </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <PaginationModel :pages=\"pagination\"\n      @emit-pages=\"getProducts\"></PaginationModel>\n    <ProductModal ref=\"productModal\"\n                  :product=\"tempProduct\"\n                  @update-product=\"updateProduct\"></ProductModal>\n    <DelModal ref=\"delModal\"\n              :item=\"delItem\"\n              @del-item=\"deleteProduct\"></DelModal>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport DelModal from '@/components/DelModal.vue';\nimport PaginationModel from '@/components/PaginationModel.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      delItem: {},\n      isLoading: false,\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    PaginationModel,\n  },\n  inject: ['emitter', '$httpMessageState'],\n  methods: {\n    getProducts(page = 1) {\n      let toPage = '';\n      if (page === 'previous' && this.pagination.has_pre) {\n        toPage = this.pagination.current_page - 1;\n      } else if (page === 'next' && this.pagination.has_next) {\n        toPage = this.pagination.current_page + 1;\n      } else {\n        toPage = page;\n      }\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${toPage}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n          }\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {\n          imagesUrl: [],\n        };\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.isNew = isNew;\n      const productComponent = this.$refs.productModal;\n      productComponent.showModal();\n    },\n    openDelModal(item) {\n      this.delItem = item;\n      const productComponent = this.$refs.delModal;\n      productComponent.showModal();\n    },\n    updateProduct(item) {\n      this.tempProduct = item;\n      // 新增\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = 'post';\n\n      // 編輯\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = 'put';\n      }\n      const productComponent = this.$refs.productModal;\n      this.isLoading = true;\n      this.$http[httpMethod](api, { data: this.tempProduct })\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            productComponent.hideModal();\n            this.$httpMessageState('success', '更新成功', res.data.message);\n            this.getProducts();\n          } else {\n            this.$httpMessageState('warning', '更新失敗', res.data.message);\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n    deleteProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.delItem.id}`;\n      this.isLoading = true;\n      this.$http.delete(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            const productComponent = this.$refs.delModal;\n            productComponent.hideModal();\n            this.$httpMessageState('success', '刪除成功', res.data.message);\n            this.getProducts();\n          } else {\n            this.$httpMessageState('warning', '刪除失敗', res.data.message);\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n    <div class=\"modal fade\" ref=\"modal\">\n      <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\n          <div class=\"modal-content border-0\">\n              <div class=\"modal-header bg-danger text-white\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                  <span>新增產品</span>\n              </h5>\n              <button type=\"button\" class=\"btn-close\"\n                      data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n              <div class=\"row\">\n\n                  <div class=\"col-sm-4\">\n                  <h5>商品封面</h5>\n                  <div class=\"mb-3\">\n                    <img class=\"img-fluid\"\n                    alt=\"\" :src=\"tempProduct.imageUrl\">\n                  </div>\n                  <div>\n                    <label class=\"form-label w-100\" for=\"img-url\">圖片網址 :\n                      <input class=\"form-control\" type=\"text\" id=\"img-url\"\n                      v-model=\"tempProduct.imageUrl\">\n                    </label>\n                  </div>\n                  <div class=\"mb-3\">\n                      <label for=\"customFile\" class=\"form-label w-100\">\n                      <i class=\"fas fa-spinner fa-spin\"></i>\n                      <input type=\"file\" id=\"customFile\"\n                      class=\"form-control\"\n                      ref=\"mainFile\"\n                      @change=\"uploadFile()\"\n                      ></label>\n                  </div>\n                  <!-- 延伸技巧，多圖 -->\n                  <div class=\"my-3\">\n                      <h5>商品參考圖</h5>\n                      <div class=\"input-group mb-3\">\n                        <input type=\"text\" class=\"form-control\" placeholder=\"請輸入圖片網址\"\n                        aria-label=\"imageUrl\" v-model=\"tempImagesUrl\">\n                        <button class=\"btn btn-outline-secondary\" type=\"button\"\n                        id=\"button-addon2\" @click=\"uploadOthers('url')\">新增參考圖</button>\n                      </div>\n                      <div class=\"input-group mb-3\">\n                        <input type=\"file\" class=\"form-control\" aria-label=\"imageFile\"\n                        ref=\"otherFile\">\n                        <button class=\"btn btn-outline-secondary\" type=\"button\"\n                        @click=\"uploadOthers('file')\">上傳參考圖</button>\n                      </div>\n\n                      <div class=\"row g-2 justify-content-center\">\n                        <div class=\"col-6 col-lg-4 position-relative\"\n                        v-for=\"(url, i) in tempProduct.imagesUrl\" :key=\"url\">\n                          <img class=\"img-fluid\" :src=\"url\" alt=\"\">\n                          <button type=\"button\"\n                          class=\"btn btn-danger position-absolute p-0 img-del-btn\"\n                          @click=\"delImages(i)\">\n                            <i class=\"bi bi-x\"></i>\n                          </button>\n                        </div>\n                      </div>\n                  </div>\n                  </div>\n\n                  <div class=\"col-sm-8\">\n                  <div class=\"my-3\">\n                      <label for=\"title\" class=\"form-label w-100\">標題 (Title)\n                      <input type=\"text\" class=\"form-control\" id=\"title\"\n                      placeholder=\"請輸入標題\"\n                      v-model=\"tempProduct.title\"\n                      ></label>\n                  </div>\n\n                  <div class=\"row gx-2\">\n                      <div class=\"mb-3 col-md-6\">\n                      <label for=\"category\" class=\"form-label w-100\">分類 (Category)\n                      <input type=\"text\" class=\"form-control\" id=\"category\"\n                      placeholder=\"請輸入分類\"\n                      v-model=\"tempProduct.category\"\n                      ></label>\n                      </div>\n                      <div class=\"mb-3 col-md-6\">\n                      <label for=\"price\" class=\"form-label w-100\">單位 (Unit)\n                      <input type=\"text\" class=\"form-control\" id=\"unit\"\n                      placeholder=\"請輸入單位\"\n                      v-model=\"tempProduct.unit\"\n                      ></label>\n                      </div>\n                  </div>\n\n                  <div class=\"row gx-2\">\n                      <div class=\"mb-3 col-md-6\">\n                      <label for=\"origin_price\" class=\"form-label w-100\">原價 (Origin Price)\n                      <input type=\"number\" class=\"form-control\" id=\"origin_price\"\n                      placeholder=\"請輸入原價\"\n                      v-model=\"tempProduct.origin_price\"\n                      ></label>\n                      </div>\n                      <div class=\"mb-3 col-md-6\">\n                      <label for=\"price\" class=\"form-label w-100\">售價 (Price)\n                      <input type=\"number\" class=\"form-control\" id=\"price\"\n                      placeholder=\"請輸入售價\"\n                      v-model=\"tempProduct.price\"\n                      ></label>\n                      </div>\n                  </div>\n                  <hr>\n\n                  <div class=\"mb-3\">\n                      <label for=\"description\" class=\"form-label w-100\">產品描述\n                      <textarea type=\"text\" class=\"form-control\" id=\"description\"\n                      placeholder=\"請輸入產品描述\"\n                      v-model=\"tempProduct.description\"\n                      ></textarea></label>\n                  </div>\n                  <div class=\"mb-3\">\n                      <label for=\"content\" class=\"form-label w-100\">說明內容\n                      <textarea type=\"text\" class=\"form-control\" id=\"content\"\n                      placeholder=\"請輸入產品說明內容\"\n                      v-model=\"tempProduct.content\"\n                      ></textarea></label>\n                  </div>\n                  <div class=\"mb-3\">\n                      <div class=\"form-check\">\n                      <label class=\"form-check-label\" for=\"is_enabled\">\n                          <input class=\"form-check-input\" type=\"checkbox\"\n                              :true-value=\"1\"\n                              :false-value=\"0\"\n                              id=\"is_enabled\"\n                              v-model=\"tempProduct.is_enabled\">\n                          是否啟用\n                      </label>\n                      </div>\n                  </div>\n                  </div>\n              </div>\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-lg btn-outline-secondary d-block\"\n                        data-bs-dismiss=\"modal\">取消\n                </button>\n                <button type=\"button\" class=\"btn btn-lg btn-danger w-50\"\n                @click=\"$emit('update-product', tempProduct)\">確認</button>\n              </div>\n          </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {},\n      tempImagesUrl: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    uploadFile() {\n      const uploadFile = this.$refs.mainFile.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadFile);\n\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(url, formData)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.tempProduct.imageUrl = res.data.imageUrl;\n            this.$httpMessageState('success', '主商品圖上傳成功', '新增參考圖，可以提升消費者的購買意願喔 !');\n          } else {\n            this.$httpMessageState('warning', '主商品圖上傳失敗', '檔案必須小於 1MB 且為圖片格式');\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n        });\n    },\n    uploadOthers(sign) {\n      if (this.tempProduct.imagesUrl.length >= 5) {\n        this.$httpMessageState('warning', '參考圖數量限制', '商品參考圖最多5張，請刪除先刪除不要的圖片。');\n        return;\n      }\n\n      if (sign === 'url') {\n        this.tempProduct.imagesUrl.push(this.tempImagesUrl);\n      } else {\n        const uploadFile = this.$refs.otherFile.files[0];\n        const formData = new FormData();\n        formData.append('file-to-upload', uploadFile);\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n        this.isLoading = true;\n        this.$http.post(url, formData)\n          .then((res) => {\n            this.isLoading = false;\n            if (res.data.success) {\n              this.tempProduct.imagesUrl.push(res.data.imageUrl);\n              this.$httpMessageState('success', '上傳參考圖成功', '繼續新增完善商品吧 !');\n            } else {\n              this.$httpMessageState('warning', '上傳參考圖失敗', '檔案必須小於 1MB 且為圖片格式');\n            }\n          })\n          .catch(() => {\n            this.isLoading = false;\n            this.$httpMessageState('danger', '發生錯誤', '請洽工程師。');\n          });\n      }\n    },\n    delImages(i) {\n      this.tempProduct.imagesUrl.splice(i, 1);\n    },\n  },\n  mixins: [modalMixin],\n  inject: ['$httpMessageState'],\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=5ce0b556\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductView.vue?vue&type=template&id=d9b248f8\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\GitHub\\\\vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","type","onClick","_cache","$event","$options","openModal","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","products","item","key","id","_toDisplayString","category","title","_hoisted_5","_ctx","$filters","currency","origin_price","_hoisted_6","price","is_enabled","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","openDelModal","_hoisted_11","_component_PaginationModel","pages","pagination","onEmitPages","getProducts","_component_ProductModal","ref","product","tempProduct","onUpdateProduct","updateProduct","_component_DelModal","delItem","onDelItem","deleteProduct","role","for","_hoisted_23","alt","src","imageUrl","_hoisted_12","_hoisted_13","_hoisted_14","onChange","uploadFile","_hoisted_15","_hoisted_16","_hoisted_17","placeholder","tempImagesUrl","uploadOthers","_hoisted_18","_hoisted_19","_hoisted_20","imagesUrl","url","i","delImages","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","unit","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","description","_hoisted_41","_hoisted_42","content","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","$emit","props","Object","default","watch","this","data","modal","methods","$refs","mainFile","files","formData","FormData","append","$http","post","then","res","success","$httpMessageState","catch","sign","length","push","otherFile","splice","mixins","modalMixin","inject","__exports__","isNew","components","ProductModal","DelModal","PaginationModel","page","toPage","has_pre","current_page","has_next","api","get","err","console","log","response","productComponent","productModal","showModal","delModal","httpMethod","hideModal","message","delete","created","render"],"sourceRoot":""}