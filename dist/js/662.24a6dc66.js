"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[662],{5239:function(t,e,i){i.d(e,{Z:function(){return f}});var s=i(3396),a=i(7139),l=i(9242);const n={"aria-label":"Page navigation example"},o={class:"pagination justify-content-center"},r=(0,s._)("span",{"aria-hidden":"true"},"«",-1),c=[r],d=["onClick"],g=(0,s._)("span",{"aria-hidden":"true"},"»",-1),p=[g];function u(t,e,i,r,g,u){return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("ul",o,[(0,s._)("li",{class:(0,a.C_)(["page-item",{"page-link-disabled":!i.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,l.iM)((t=>u.updatePage("previous")),["prevent"]))},c)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pages.total_pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["page-item",{active:t===i.pages.current_page}]),key:t},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,l.iM)((e=>u.updatePage(t)),["prevent"])},(0,a.zw)(t),9,d)],2)))),128)),(0,s._)("li",{class:(0,a.C_)(["page-item",{"page-link-disabled":!i.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,l.iM)((t=>u.updatePage("next")),["prevent"]))},p)],2)])])}var h={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},_=i(89);const v=(0,_.Z)(h,[["render",u]]);var f=v},4662:function(t,e,i){i.r(e),i.d(e,{default:function(){return it}});var s=i(3396),a=i(7139),l=i(9242);const n=(0,s._)("div",{class:"products-banner mb-3"},[(0,s._)("div",{class:"banner-text d-flex align-items-center justify-content-center"},[(0,s._)("h1",{class:"text-white"},"商品專區")])],-1),o={class:"container-fluid"},r={class:"row justify-content-center"},c={class:"col-lg-9"},d={class:"row"},g={class:"col-md-6"},p={class:"fs-5 mb-3"},u={class:"d-flex list-unstyled"},h=(0,s._)("li",{class:"link-info"},"首頁 / ",-1),_=(0,s._)("li",{class:"link-info"},"商品專區 / ",-1),v={class:"link-danger ms-2"},f={class:"col-md-6"},m={class:"input-group mb-3"},b=(0,s._)("button",{class:"input-group-text border-0 bg-light"},[(0,s._)("i",{class:"bi bi-search"})],-1),x={class:"mb-3"},k={class:"row"},y={class:"col-md-2"},w={class:"list-group text-center sticky-top",style:{top:"70px"}},P={class:"col-md-10"},C={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3"},L={class:"card h-100"},I={class:"position-absolute end-0",style:{"z-index":"2"}},D=["onClick"],j=(0,s._)("i",{class:"bi bi-heart text-white fs-5"},null,-1),z=(0,s._)("span",{class:"ms-1 text-white fs-5"},"加入收藏",-1),M=[j,z],S=["onClick"],$=(0,s._)("i",{class:"bi bi-heart-fill text-danger fs-5"},null,-1),U=(0,s._)("span",{class:"ms-1 text-danger fs-5"},"喜歡的商品",-1),Z=[$,U],F=["src"],T={class:"card-body position-relative pb-0 border-top"},N={class:"text-white bg-danger d-inline px-1 position-absolute top-0 end-0"},O={class:"mt-2 overflow-hidden",style:{height:"48px"}},E={class:"overflow-hidden",style:{height:"70px"}},H={class:"d-flex justify-content-between align-items-end"},J={class:"text-secondary fs-6 text-decoration-line-through"},W={class:"text-danger fs-4"},Y={class:"card-footer"},K=["onClick"],V={key:1},q=(0,s._)("div",{class:"d-flex text-secondary justify-content-center align-items-center mt-3"},[(0,s._)("i",{class:"bi bi-cloud-slash fs-1 me-3"}),(0,s._)("h5",{class:"text-center"},[(0,s.Uk)("歐歐~ 好像找不到相關的商品呢 ! "),(0,s._)("br"),(0,s.Uk)("再試試看其他關鍵字吧 !")])],-1),A=[q];function B(t,e,i,j,z,$){const U=(0,s.up)("LoadingOverlay"),q=(0,s.up)("PaginationModel"),B=(0,s.up)("UserCart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(U,{active:z.isLoading},null,8,["active"]),n,(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s._)("section",null,[(0,s._)("div",d,[(0,s._)("div",g,[(0,s._)("div",p,[(0,s._)("ul",u,[h,_,(0,s._)("li",v,(0,a.zw)(z.filter),1)])])]),(0,s._)("div",f,[(0,s._)("div",m,[b,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"進一步搜尋商品","aria-label":"search","onUpdate:modelValue":e[0]||(e[0]=t=>z.searchText=t),onChange:e[1]||(e[1]=t=>$.filtProducts(1))},null,544),[[l.nr,z.searchText]])])])])]),(0,s._)("section",x,[(0,s._)("div",k,[(0,s._)("div",y,[(0,s._)("div",w,[(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:""==z.filter}]),onClick:e[2]||(e[2]=t=>$.changeFilter(""))},"全部商品",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"化妝品"==z.filter}]),onClick:e[3]||(e[3]=t=>$.changeFilter("化妝品"))},"化妝品",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"醫藥"==z.filter}]),onClick:e[4]||(e[4]=t=>$.changeFilter("醫藥"))},"醫藥",2),(0,s._)("button",{type:"button",class:(0,a.C_)(["list-group-item list-group-item-action",{active:"零食"==z.filter}]),onClick:e[5]||(e[5]=t=>$.changeFilter("零食"))},"零食",2)])]),(0,s._)("div",P,[0!==z.filtedProducts.length?((0,s.wg)(),(0,s.iD)("div",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(z.filtedProducts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:e.id},[(0,s._)("div",L,[(0,s._)("div",I,[$.checkLoveList(e)?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"border-0 rounded",style:{"background-color":"rgba(255, 0, 0, 0.62)"},onClick:t=>$.toggleLoveProduct(e,"add")},M,8,D)):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"border-0 rounded",style:{"background-color":"white"},onClick:t=>$.toggleLoveProduct(e,"del")},Z,8,S))]),(0,s._)("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"...",style:{height:"250px"}},null,8,F),(0,s._)("div",T,[(0,s._)("p",N,(0,a.zw)(e.category),1),(0,s._)("h5",O,(0,a.zw)(e.title),1),(0,s._)("p",E,(0,a.zw)(e.description),1),(0,s._)("div",H,[(0,s._)("span",J," 原價"+(0,a.zw)(t.$filters.currency(e.origin_price))+"元",1),(0,s._)("span",W," 售價"+(0,a.zw)(t.$filters.currency(e.price))+"元",1)])]),(0,s._)("div",Y,[(0,s._)("a",{class:"btn btn-outline-primary btn-lg-sm stretched-link w-100 py-3",href:"#",onClick:(0,l.iM)((t=>$.getProduct(e.id)),["prevent"])},"商品頁",8,K)])])])))),128))])):((0,s.wg)(),(0,s.iD)("div",V,A))])])]),(0,s.Wm)(q,{pages:z.pagination,onEmitPages:$.filtProducts},null,8,["pages","onEmitPages"])])])]),(0,s.Wm)(B,{cart:t.cart,onChangeCart:t.getCart},null,8,["cart","onChangeCart"])],64)}i(7658);var G=i(5239),Q=i(4351),R=i(943),X={components:{PaginationModel:G.Z,UserCart:Q.Z},data(){return{products:[],filtedProducts:[],loveItemList:{},pagination:{total_pages:"",current_page:1,has_pre:!1,has_next:!1},filter:"",searchText:"",isLoading:!1,status:{loadingItem:""}}},inject:["emitter","$httpMessageState"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/cong-ren/products/all";this.$http.get(t).then((t=>{t.data.success&&(this.products=t.data.products,this.filtProducts())})).catch((t=>{console.log(t)}))},filtProducts(t=1){""===this.filter?this.filtedProducts=this.products.filter((t=>t.title.match(this.searchText))):(this.filtedProducts=this.products.filter((t=>t.category===this.filter)),this.filtedProducts=this.filtedProducts.filter((t=>t.title.match(this.searchText)))),"previous"===t?this.pagination.current_page-=1:"next"===t?this.pagination.current_page+=1:this.pagination.current_page=1===t?1:t;const e=9;this.pagination.total_pages=Math.ceil(this.filtedProducts.length/e),1===this.pagination.current_page?(this.pagination.has_pre=!1,this.pagination.has_next=!0,1===this.pagination.total_pages&&(this.pagination.has_next=!1)):this.pagination.current_page===this.pagination.total_pages?(this.pagination.has_next=!1,this.pagination.has_pre=!0):(this.pagination.has_next=!0,this.pagination.has_pre=!0);const i=[],s=this.pagination.current_page;this.filtedProducts.forEach(((t,e)=>{e<=9*s-1&&e>=9*s-9&&i.push(t)})),this.filtedProducts=i},getProduct(t){this.$router.push(`/user/product/${t}`)},toggleLoveProduct(t,e){"add"===e?(this.loveItemList[t.id]=t,localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList))):"del"===e&&(delete this.loveItemList[t.id],localStorage.setItem("loveItemList",JSON.stringify(this.loveItemList)))},checkLoveList(t){return void 0===this.loveItemList[t.id]},updateLovedItem(){localStorage.getItem("loveItemList")?this.loveItemList=JSON.parse(localStorage.getItem("loveItemList")):this.loveItemList={}},changeFilter(t){this.filter=t,this.filtProducts()}},created(){this.getProducts(),this.updateLovedItem()},mixins:[R.Z]},tt=i(89);const et=(0,tt.Z)(X,[["render",B]]);var it=et}}]);
//# sourceMappingURL=662.24a6dc66.js.map